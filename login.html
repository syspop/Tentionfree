<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login / Register - Tention Free</title>
    <meta name="description"
        content="Login to your Tention Free account to manage your orders, view purchase history, and access your digital subscriptions.">
    <meta name="robots" content="noindex, follow"> <!-- Don't index login page but follow links -->
    <link rel="canonical" href="https://tentionfree.store/login.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tentionfree.store/login.html">
    <meta property="og:title" content="Login - Tention Free">
    <meta property="og:description" content="Access your trusted digital shop account.">
    <meta property="og:image" content="https://tentionfree.store/images/og-image.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'] },
                    colors: {
                        brand: { 400: '#3b82f6', 500: '#2563eb', 600: '#1d4ed8' },
                        dark: { bg: '#0f172a', card: '#1e293b' }
                    },
                    animation: { 'float': 'float 6s ease-in-out infinite' },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020617;
            background-image:
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(147, 51, 234, 0.15) 0px, transparent 50%);
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .input-glass {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }

        .input-glass:focus {
            background: rgba(15, 23, 42, 0.9);
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
            outline: none;
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4 relative overflow-hidden">

    <!-- Floating Background Elements -->
    <div class="absolute top-20 left-20 w-72 h-72 bg-blue-600/20 rounded-full blur-[100px] animate-float"></div>
    <div class="absolute bottom-20 right-20 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] animate-float"
        style="animation-delay: -2s;"></div>

    <div class="relative w-full max-w-md">
        <!-- Brand Header -->
        <div class="text-center mb-8">
            <a href="/" class="inline-flex items-center group cursor-pointer">
                <div
                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-brand-400 to-blue-600 flex items-center justify-center mr-3 shadow-lg shadow-brand-500/30 group-hover:shadow-brand-500/40 transition-all">
                    <i class="fa-solid fa-bolt text-white text-2xl"></i>
                </div>
                <span
                    class="text-3xl font-bold text-slate-200 tracking-tight group-hover:text-brand-600 transition-colors">Tention<span
                        class="text-brand-500">Free</span></span>
            </a>
        </div>

        <!-- Auth Card -->
        <div class="glass-card rounded-3xl p-8 shadow-2xl relative overflow-hidden">
            <!-- Top Glow Line -->
            <div
                class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-400 to-transparent opacity-50">
            </div>

            <!-- Tabs -->
            <div class="flex p-1 bg-slate-900/50 rounded-xl mb-8 relative">
                <div id="tab-bg"
                    class="absolute top-1 left-1 w-[calc(50%-4px)] h-[calc(100%-8px)] bg-brand-600 rounded-lg transition-all duration-300 shadow-lg">
                </div>
                <button onclick="switchTab('login')"
                    class="flex-1 relative z-10 py-2.5 text-sm font-bold text-white transition-colors duration-300"
                    id="tab-login">Login</button>
                <button onclick="switchTab('register')"
                    class="flex-1 relative z-10 py-2.5 text-sm font-bold text-slate-400 transition-colors duration-300"
                    id="tab-register">Register</button>
            </div>

            <!-- Forms Container -->
            <div class="relative overflow-hidden min-h-[750px]">

                <!-- LOGIN FORM -->
                <form id="login-form"
                    class="absolute w-full transition-all duration-300 ease-out transform translate-x-0 opacity-100 space-y-5"
                    onsubmit="handleLogin(event)">
                    <div class="text-center mb-2">
                        <h2 class="text-2xl font-bold text-white">Welcome Back</h2>
                        <p class="text-slate-400 text-sm">Enter your credentials to access your account</p>
                    </div>

                    <div class="space-y-4">
                        <div class="group">
                            <label class="block text-xs font-medium text-brand-400 mb-1 ml-1">EMAIL ADDRESS</label>
                            <div class="relative">
                                <i
                                    class="fa-regular fa-envelope absolute left-4 top-3.5 text-slate-500 group-focus-within:text-brand-400 transition-colors"></i>
                                <input type="email" id="login-email" required
                                    class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                    placeholder="name@example.com">
                            </div>
                        </div>
                        <div class="group">
                            <label class="block text-xs font-medium text-brand-400 mb-1 ml-1">PASSWORD</label>
                            <div class="relative">
                                <i
                                    class="fa-solid fa-lock absolute left-4 top-3.5 text-slate-500 group-focus-within:text-brand-400 transition-colors"></i>
                                <input type="password" id="login-pass" required
                                    class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3 mt-4">
                        <button type="button" onclick="socialLogin('google')"
                            class="flex items-center justify-center bg-white text-slate-900 font-bold py-2.5 rounded-xl hover:bg-slate-200 transition-colors">
                            <i class="fa-brands fa-google text-red-500 mr-2"></i> Google
                        </button>
                        <button type="button" onclick="socialLogin('facebook')"
                            class="flex items-center justify-center bg-[#1877F2] text-white font-bold py-2.5 rounded-xl hover:bg-[#166fe5] transition-colors">
                            <i class="fa-brands fa-facebook text-white mr-2"></i> Facebook
                        </button>
                    </div>

                    <button type="submit" id="btn-login"
                        class="w-full bg-gradient-to-r from-brand-600 to-brand-500 hover:from-brand-500 hover:to-brand-400 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-500/25 transform hover:-translate-y-0.5 transition-all mt-2">
                        Log In Now
                    </button>
                </form>

                <!-- REGISTER FORM -->
                <form id="register-form"
                    class="absolute w-full transition-all duration-300 ease-out transform translate-x-full opacity-0 space-y-4"
                    onsubmit="handleRegister(event)">
                    <div class="text-center mb-2">
                        <h2 class="text-2xl font-bold text-white">Create Account</h2>
                        <p class="text-slate-400 text-sm">Join us for instant digital delivery</p>
                    </div>

                    <div class="space-y-3">
                        <div class="relative">
                            <i class="fa-regular fa-user absolute left-4 top-3.5 text-slate-500"></i>
                            <input type="text" id="reg-name" required
                                class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                placeholder="Full Name">
                        </div>
                        <div class="relative">
                            <i class="fa-regular fa-envelope absolute left-4 top-3.5 text-slate-500"></i>
                            <input type="email" id="reg-email" required
                                class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                placeholder="Email Address">
                        </div>
                        <div class="relative flex gap-2">

                            <div class="relative w-1/3">
                                <select id="reg-country-code"
                                    class="input-glass w-full rounded-xl py-3 pl-2 pr-2 placeholder-slate-500 text-center text-white bg-slate-800 appearance-none focus:outline-none cursor-pointer">
                                    <option value="+880" selected>ðŸ‡§ðŸ‡© +880 (BD)</option>
                                    <option value="+93">ðŸ‡¦ðŸ‡« +93 (AF)</option>
                                    <option value="+355">ðŸ‡¦ðŸ‡± +355 (AL)</option>
                                    <option value="+213">ðŸ‡©ðŸ‡¿ +213 (DZ)</option>
                                    <option value="+1684">ðŸ‡¦ðŸ‡¸ +1684 (AS)</option>
                                    <option value="+376">ðŸ‡¦ðŸ‡© +376 (AD)</option>
                                    <option value="+244">ðŸ‡¦ðŸ‡´ +244 (AO)</option>
                                    <option value="+1264">ðŸ‡¦ðŸ‡® +1264 (AI)</option>
                                    <option value="+672">ðŸ‡¦ðŸ‡¶ +672 (AQ)</option>
                                    <option value="+1268">ðŸ‡¦ðŸ‡¬ +1268 (AG)</option>
                                    <option value="+54">ðŸ‡¦ðŸ‡· +54 (AR)</option>
                                    <option value="+374">ðŸ‡¦ðŸ‡² +374 (AM)</option>
                                    <option value="+297">ðŸ‡¦ðŸ‡¼ +297 (AW)</option>
                                    <option value="+61">ðŸ‡¦ðŸ‡º +61 (AU)</option>
                                    <option value="+43">ðŸ‡¦ðŸ‡¹ +43 (AT)</option>
                                    <option value="+994">ðŸ‡¦ðŸ‡¿ +994 (AZ)</option>
                                    <option value="+1242">ðŸ‡§ðŸ‡¸ +1242 (BS)</option>
                                    <option value="+973">ðŸ‡§ðŸ‡­ +973 (BH)</option>
                                    <option value="+1246">ðŸ‡§ðŸ‡§ +1246 (BB)</option>
                                    <option value="+375">ðŸ‡§ðŸ‡¾ +375 (BY)</option>
                                    <option value="+32">ðŸ‡§ðŸ‡ª +32 (BE)</option>
                                    <option value="+501">ðŸ‡§ðŸ‡¿ +501 (BZ)</option>
                                    <option value="+229">ðŸ‡§ðŸ‡¯ +229 (BJ)</option>
                                    <option value="+1441">ðŸ‡§ðŸ‡² +1441 (BM)</option>
                                    <option value="+975">ðŸ‡§ðŸ‡¹ +975 (BT)</option>
                                    <option value="+591">ðŸ‡§ðŸ‡´ +591 (BO)</option>
                                    <option value="+387">ðŸ‡§ðŸ‡¦ +387 (BA)</option>
                                    <option value="+267">ðŸ‡§ðŸ‡¼ +267 (BW)</option>
                                    <option value="+55">ðŸ‡§ðŸ‡· +55 (BR)</option>
                                    <option value="+246">ðŸ‡®ðŸ‡´ +246 (IO)</option>
                                    <option value="+673">ðŸ‡§ðŸ‡³ +673 (BN)</option>
                                    <option value="+359">ðŸ‡§ðŸ‡¬ +359 (BG)</option>
                                    <option value="+226">ðŸ‡§ðŸ‡« +226 (BF)</option>
                                    <option value="+257">ðŸ‡§ðŸ‡® +257 (BI)</option>
                                    <option value="+855">ðŸ‡°ðŸ‡­ +855 (KH)</option>
                                    <option value="+237">ðŸ‡¨ðŸ‡² +237 (CM)</option>
                                    <option value="+1">ðŸ‡¨ðŸ‡¦ +1 (CA)</option>
                                    <option value="+238">ðŸ‡¨ðŸ‡» +238 (CV)</option>
                                    <option value="+1345">ðŸ‡°ðŸ‡¾ +1345 (KY)</option>
                                    <option value="+236">ðŸ‡¨ðŸ‡« +236 (CF)</option>
                                    <option value="+235">ðŸ‡¹ðŸ‡© +235 (TD)</option>
                                    <option value="+56">ðŸ‡¨ðŸ‡± +56 (CL)</option>
                                    <option value="+86">ðŸ‡¨ðŸ‡³ +86 (CN)</option>
                                    <option value="+61">ðŸ‡¨ðŸ‡½ +61 (CX)</option>
                                    <option value="+61">ðŸ‡¨ðŸ‡¨ +61 (CC)</option>
                                    <option value="+57">ðŸ‡¨ðŸ‡´ +57 (CO)</option>
                                    <option value="+269">ðŸ‡°ðŸ‡² +269 (KM)</option>
                                    <option value="+242">ðŸ‡¨ðŸ‡¬ +242 (CG)</option>
                                    <option value="+243">ðŸ‡¨ðŸ‡© +243 (CD)</option>
                                    <option value="+682">ðŸ‡¨ðŸ‡° +682 (CK)</option>
                                    <option value="+506">ðŸ‡¨ðŸ‡· +506 (CR)</option>
                                    <option value="+225">ðŸ‡¨ðŸ‡® +225 (CI)</option>
                                    <option value="+385">ðŸ‡­ðŸ‡· +385 (HR)</option>
                                    <option value="+53">ðŸ‡¨ðŸ‡º +53 (CU)</option>
                                    <option value="+357">ðŸ‡¨ðŸ‡¾ +357 (CY)</option>
                                    <option value="+420">ðŸ‡¨ðŸ‡¿ +420 (CZ)</option>
                                    <option value="+45">ðŸ‡©ðŸ‡° +45 (DK)</option>
                                    <option value="+253">ðŸ‡©ðŸ‡¯ +253 (DJ)</option>
                                    <option value="+1767">ðŸ‡©ðŸ‡² +1767 (DM)</option>
                                    <option value="+1809">ðŸ‡©ðŸ‡´ +1809 (DO)</option>
                                    <option value="+593">ðŸ‡ªðŸ‡¨ +593 (EC)</option>
                                    <option value="+20">ðŸ‡ªðŸ‡¬ +20 (EG)</option>
                                    <option value="+503">ðŸ‡¸ðŸ‡» +503 (SV)</option>
                                    <option value="+240">ðŸ‡¬ðŸ‡¶ +240 (GQ)</option>
                                    <option value="+291">ðŸ‡ªðŸ‡· +291 (ER)</option>
                                    <option value="+372">ðŸ‡ªðŸ‡ª +372 (EE)</option>
                                    <option value="+251">ðŸ‡ªðŸ‡¹ +251 (ET)</option>
                                    <option value="+500">ðŸ‡«ðŸ‡° +500 (FK)</option>
                                    <option value="+298">ðŸ‡«ðŸ‡´ +298 (FO)</option>
                                    <option value="+679">ðŸ‡«ðŸ‡¯ +679 (FJ)</option>
                                    <option value="+358">ðŸ‡«ðŸ‡® +358 (FI)</option>
                                    <option value="+33">ðŸ‡«ðŸ‡· +33 (FR)</option>
                                    <option value="+594">ðŸ‡¬ðŸ‡« +594 (GF)</option>
                                    <option value="+689">ðŸ‡µðŸ‡« +689 (PF)</option>
                                    <option value="+241">ðŸ‡¬ðŸ‡¦ +241 (GA)</option>
                                    <option value="+220">ðŸ‡¬ðŸ‡² +220 (GM)</option>
                                    <option value="+995">ðŸ‡¬ðŸ‡ª +995 (GE)</option>
                                    <option value="+49">ðŸ‡©ðŸ‡ª +49 (DE)</option>
                                    <option value="+233">ðŸ‡¬ðŸ‡­ +233 (GH)</option>
                                    <option value="+350">ðŸ‡¬ðŸ‡® +350 (GI)</option>
                                    <option value="+30">ðŸ‡¬ðŸ‡· +30 (GR)</option>
                                    <option value="+299">ðŸ‡¬ðŸ‡± +299 (GL)</option>
                                    <option value="+1473">ðŸ‡¬ðŸ‡© +1473 (GD)</option>
                                    <option value="+590">ðŸ‡¬ðŸ‡µ +590 (GP)</option>
                                    <option value="+1671">ðŸ‡¬ðŸ‡º +1671 (GU)</option>
                                    <option value="+502">ðŸ‡¬ðŸ‡¹ +502 (GT)</option>
                                    <option value="+44">ðŸ‡¬ðŸ‡¬ +44 (GG)</option>
                                    <option value="+224">ðŸ‡¬ðŸ‡³ +224 (GN)</option>
                                    <option value="+245">ðŸ‡¬ðŸ‡¼ +245 (GW)</option>
                                    <option value="+592">ðŸ‡¬ðŸ‡¾ +592 (GY)</option>
                                    <option value="+509">ðŸ‡­ðŸ‡¹ +509 (HT)</option>
                                    <option value="+379">ðŸ‡»ðŸ‡¦ +379 (VA)</option>
                                    <option value="+504">ðŸ‡­ðŸ‡³ +504 (HN)</option>
                                    <option value="+852">ðŸ‡­ðŸ‡° +852 (HK)</option>
                                    <option value="+36">ðŸ‡­ðŸ‡º +36 (HU)</option>
                                    <option value="+354">ðŸ‡®ðŸ‡¸ +354 (IS)</option>
                                    <option value="+91">ðŸ‡®ðŸ‡³ +91 (IN)</option>
                                    <option value="+62">ðŸ‡®ðŸ‡© +62 (ID)</option>
                                    <option value="+98">ðŸ‡®ðŸ‡· +98 (IR)</option>
                                    <option value="+964">ðŸ‡®ðŸ‡¶ +964 (IQ)</option>
                                    <option value="+353">ðŸ‡®ðŸ‡ª +353 (IE)</option>
                                    <option value="+44">ðŸ‡®ðŸ‡² +44 (IM)</option>
                                    <option value="+972">ðŸ‡®ðŸ‡± +972 (IL)</option>
                                    <option value="+39">ðŸ‡®ðŸ‡¹ +39 (IT)</option>
                                    <option value="+1876">ðŸ‡¯ðŸ‡² +1876 (JM)</option>
                                    <option value="+81">ðŸ‡¯ðŸ‡µ +81 (JP)</option>
                                    <option value="+44">ðŸ‡¯ðŸ‡ª +44 (JE)</option>
                                    <option value="+962">ðŸ‡¯ðŸ‡´ +962 (JO)</option>
                                    <option value="+7">ðŸ‡°ðŸ‡¿ +7 (KZ)</option>
                                    <option value="+254">ðŸ‡°ðŸ‡ª +254 (KE)</option>
                                    <option value="+686">ðŸ‡°ðŸ‡® +686 (KI)</option>
                                    <option value="+850">ðŸ‡°ðŸ‡µ +850 (KP)</option>
                                    <option value="+82">ðŸ‡°ðŸ‡· +82 (KR)</option>
                                    <option value="+965">ðŸ‡°ðŸ‡¼ +965 (KW)</option>
                                    <option value="+996">ðŸ‡°ðŸ‡¬ +996 (KG)</option>
                                    <option value="+856">ðŸ‡±ðŸ‡¦ +856 (LA)</option>
                                    <option value="+371">ðŸ‡±ðŸ‡» +371 (LV)</option>
                                    <option value="+961">ðŸ‡±ðŸ‡§ +961 (LB)</option>
                                    <option value="+266">ðŸ‡±ðŸ‡¸ +266 (LS)</option>
                                    <option value="+231">ðŸ‡±ðŸ‡· +231 (LR)</option>
                                    <option value="+218">ðŸ‡±ðŸ‡¾ +218 (LY)</option>
                                    <option value="+423">ðŸ‡±ðŸ‡® +423 (LI)</option>
                                    <option value="+370">ðŸ‡±ðŸ‡¹ +370 (LT)</option>
                                    <option value="+352">ðŸ‡±ðŸ‡º +352 (LU)</option>
                                    <option value="+853">ðŸ‡²ðŸ‡´ +853 (MO)</option>
                                    <option value="+389">ðŸ‡²ðŸ‡° +389 (MK)</option>
                                    <option value="+261">ðŸ‡²ðŸ‡¬ +261 (MG)</option>
                                    <option value="+265">ðŸ‡²ðŸ‡¼ +265 (MW)</option>
                                    <option value="+60">ðŸ‡²ðŸ‡¾ +60 (MY)</option>
                                    <option value="+960">ðŸ‡²ðŸ‡» +960 (MV)</option>
                                    <option value="+223">ðŸ‡²ðŸ‡± +223 (ML)</option>
                                    <option value="+356">ðŸ‡²ðŸ‡¹ +356 (MT)</option>
                                    <option value="+692">ðŸ‡²ðŸ‡­ +692 (MH)</option>
                                    <option value="+596">ðŸ‡²ðŸ‡¶ +596 (MQ)</option>
                                    <option value="+222">ðŸ‡²ðŸ‡· +222 (MR)</option>
                                    <option value="+230">ðŸ‡²ðŸ‡º +230 (MU)</option>
                                    <option value="+262">ðŸ‡¾ðŸ‡¹ +262 (YT)</option>
                                    <option value="+52">ðŸ‡²ðŸ‡½ +52 (MX)</option>
                                    <option value="+691">ðŸ‡«ðŸ‡² +691 (FM)</option>
                                    <option value="+373">ðŸ‡²ðŸ‡© +373 (MD)</option>
                                    <option value="+377">ðŸ‡²ðŸ‡¨ +377 (MC)</option>
                                    <option value="+976">ðŸ‡²ðŸ‡³ +976 (MN)</option>
                                    <option value="+382">ðŸ‡²ðŸ‡ª +382 (ME)</option>
                                    <option value="+1664">ðŸ‡²ðŸ‡¸ +1664 (MS)</option>
                                    <option value="+212">ðŸ‡²ðŸ‡¦ +212 (MA)</option>
                                    <option value="+258">ðŸ‡²ðŸ‡¿ +258 (MZ)</option>
                                    <option value="+95">ðŸ‡²ðŸ‡² +95 (MM)</option>
                                    <option value="+264">ðŸ‡³ðŸ‡¦ +264 (NA)</option>
                                    <option value="+674">ðŸ‡³ðŸ‡· +674 (NR)</option>
                                    <option value="+977">ðŸ‡³ðŸ‡µ +977 (NP)</option>
                                    <option value="+31">ðŸ‡³ðŸ‡± +31 (NL)</option>
                                    <option value="+599">ðŸ‡¦ðŸ‡³ +599 (AN)</option>
                                    <option value="+687">ðŸ‡³ðŸ‡¨ +687 (NC)</option>
                                    <option value="+64">ðŸ‡³ðŸ‡¿ +64 (NZ)</option>
                                    <option value="+505">ðŸ‡³ðŸ‡® +505 (NI)</option>
                                    <option value="+227">ðŸ‡³ðŸ‡ª +227 (NE)</option>
                                    <option value="+234">ðŸ‡³ðŸ‡¬ +234 (NG)</option>
                                    <option value="+683">ðŸ‡³ðŸ‡º +683 (NU)</option>
                                    <option value="+672">ðŸ‡³ðŸ‡« +672 (NF)</option>
                                    <option value="+1670">ðŸ‡²ðŸ‡µ +1670 (MP)</option>
                                    <option value="+47">ðŸ‡³ðŸ‡´ +47 (NO)</option>
                                    <option value="+968">ðŸ‡´ðŸ‡² +968 (OM)</option>
                                    <option value="+92">ðŸ‡µðŸ‡° +92 (PK)</option>
                                    <option value="+680">ðŸ‡µðŸ‡¼ +680 (PW)</option>
                                    <option value="+970">ðŸ‡µðŸ‡¸ +970 (PS)</option>
                                    <option value="+507">ðŸ‡µðŸ‡¦ +507 (PA)</option>
                                    <option value="+675">ðŸ‡µðŸ‡¬ +675 (PG)</option>
                                    <option value="+595">ðŸ‡µðŸ‡¾ +595 (PY)</option>
                                    <option value="+51">ðŸ‡µðŸ‡ª +51 (PE)</option>
                                    <option value="+63">ðŸ‡µðŸ‡­ +63 (PH)</option>
                                    <option value="+64">ðŸ‡µðŸ‡³ +64 (PN)</option>
                                    <option value="+48">ðŸ‡µðŸ‡± +48 (PL)</option>
                                    <option value="+351">ðŸ‡µðŸ‡¹ +351 (PT)</option>
                                    <option value="+1787">ðŸ‡µðŸ‡· +1787 (PR)</option>
                                    <option value="+974">ðŸ‡¶ðŸ‡¦ +974 (QA)</option>
                                    <option value="+262">ðŸ‡·ðŸ‡ª +262 (RE)</option>
                                    <option value="+40">ðŸ‡·ðŸ‡´ +40 (RO)</option>
                                    <option value="+7">ðŸ‡·ðŸ‡º +7 (RU)</option>
                                    <option value="+250">ðŸ‡·ðŸ‡¼ +250 (RW)</option>
                                    <option value="+590">ðŸ‡§ðŸ‡± +590 (BL)</option>
                                    <option value="+290">ðŸ‡¸ðŸ‡­ +290 (SH)</option>
                                    <option value="+1869">ðŸ‡°ðŸ‡³ +1869 (KN)</option>
                                    <option value="+1758">ðŸ‡±ðŸ‡¨ +1758 (LC)</option>
                                    <option value="+590">ðŸ‡²ðŸ‡« +590 (MF)</option>
                                    <option value="+508">ðŸ‡µðŸ‡² +508 (PM)</option>
                                    <option value="+1784">ðŸ‡»ðŸ‡¨ +1784 (VC)</option>
                                    <option value="+685">ðŸ‡¼ðŸ‡¸ +685 (WS)</option>
                                    <option value="+378">ðŸ‡¸ðŸ‡² +378 (SM)</option>
                                    <option value="+239">ðŸ‡¸ðŸ‡¹ +239 (ST)</option>
                                    <option value="+966">ðŸ‡¸ðŸ‡¦ +966 (SA)</option>
                                    <option value="+221">ðŸ‡¸ðŸ‡³ +221 (SN)</option>
                                    <option value="+381">ðŸ‡·ðŸ‡¸ +381 (RS)</option>
                                    <option value="+248">ðŸ‡¸ðŸ‡¨ +248 (SC)</option>
                                    <option value="+232">ðŸ‡¸ðŸ‡± +232 (SL)</option>
                                    <option value="+65">ðŸ‡¸ðŸ‡¬ +65 (SG)</option>
                                    <option value="+421">ðŸ‡¸ðŸ‡° +421 (SK)</option>
                                    <option value="+386">ðŸ‡¸ðŸ‡® +386 (SI)</option>
                                    <option value="+677">ðŸ‡¸ðŸ‡§ +677 (SB)</option>
                                    <option value="+252">ðŸ‡¸ðŸ‡´ +252 (SO)</option>
                                    <option value="+27">ðŸ‡¿ðŸ‡¦ +27 (ZA)</option>
                                    <option value="+500">ðŸ‡¬ðŸ‡¸ +500 (GS)</option>
                                    <option value="+34">ðŸ‡ªðŸ‡¸ +34 (ES)</option>
                                    <option value="+94">ðŸ‡±ðŸ‡° +94 (LK)</option>
                                    <option value="+249">ðŸ‡¸ðŸ‡© +249 (SD)</option>
                                    <option value="+597">ðŸ‡¸ðŸ‡· +597 (SR)</option>
                                    <option value="+47">ðŸ‡¸ðŸ‡¯ +47 (SJ)</option>
                                    <option value="+268">ðŸ‡¸ðŸ‡¿ +268 (SZ)</option>
                                    <option value="+46">ðŸ‡¸ðŸ‡ª +46 (SE)</option>
                                    <option value="+41">ðŸ‡¨ðŸ‡­ +41 (CH)</option>
                                    <option value="+963">ðŸ‡¸ðŸ‡¾ +963 (SY)</option>
                                    <option value="+886">ðŸ‡¹ðŸ‡¼ +886 (TW)</option>
                                    <option value="+992">ðŸ‡¹ðŸ‡¯ +992 (TJ)</option>
                                    <option value="+255">ðŸ‡¹ðŸ‡¿ +255 (TZ)</option>
                                    <option value="+66">ðŸ‡¹ðŸ‡­ +66 (TH)</option>
                                    <option value="+670">ðŸ‡¹ðŸ‡± +670 (TL)</option>
                                    <option value="+228">ðŸ‡¹ðŸ‡¬ +228 (TG)</option>
                                    <option value="+690">ðŸ‡¹ðŸ‡° +690 (TK)</option>
                                    <option value="+676">ðŸ‡¹ðŸ‡´ +676 (TO)</option>
                                    <option value="+1868">ðŸ‡¹ðŸ‡¹ +1868 (TT)</option>
                                    <option value="+216">ðŸ‡¹ðŸ‡³ +216 (TN)</option>
                                    <option value="+90">ðŸ‡¹ðŸ‡· +90 (TR)</option>
                                    <option value="+993">ðŸ‡¹ðŸ‡² +993 (TM)</option>
                                    <option value="+1649">ðŸ‡¹ðŸ‡¨ +1649 (TC)</option>
                                    <option value="+688">ðŸ‡¹ðŸ‡» +688 (TV)</option>
                                    <option value="+256">ðŸ‡ºðŸ‡¬ +256 (UG)</option>
                                    <option value="+380">ðŸ‡ºðŸ‡¦ +380 (UA)</option>
                                    <option value="+971">ðŸ‡¦ðŸ‡ª +971 (AE)</option>
                                    <option value="+44">ðŸ‡¬ðŸ‡§ +44 (GB)</option>
                                    <option value="+1">ðŸ‡ºðŸ‡¸ +1 (US)</option>
                                    <option value="+598">ðŸ‡ºðŸ‡¾ +598 (UY)</option>
                                    <option value="+998">ðŸ‡ºðŸ‡¿ +998 (UZ)</option>
                                    <option value="+678">ðŸ‡»ðŸ‡º +678 (VU)</option>
                                    <option value="+58">ðŸ‡»ðŸ‡ª +58 (VE)</option>
                                    <option value="+84">ðŸ‡»ðŸ‡³ +84 (VN)</option>
                                    <option value="+1284">ðŸ‡»ðŸ‡¬ +1284 (VG)</option>
                                    <option value="+1340">ðŸ‡»ðŸ‡® +1340 (VI)</option>
                                    <option value="+681">ðŸ‡¼ðŸ‡« +681 (WF)</option>
                                    <option value="+967">ðŸ‡¾ðŸ‡ª +967 (YE)</option>
                                    <option value="+260">ðŸ‡¿ðŸ‡² +260 (ZM)</option>
                                    <option value="+263">ðŸ‡¿ðŸ‡¼ +263 (ZW)</option>
                                </select>
                            </div>
                            <div class="relative w-2/3">
                                <input type="text" id="reg-phone" required pattern="[0-9]*" inputmode="numeric"
                                    maxlength="11" oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                                    class="input-glass w-full rounded-xl py-3 px-4 placeholder-slate-500"
                                    placeholder="1812345678">
                            </div>
                        </div>
                        <div class="relative">
                            <label class="block text-xs font-bold text-slate-400 mb-1 ml-1 uppercase">Date of
                                Birth</label>
                            <div class="grid grid-cols-3 gap-2">
                                <input type="number" id="reg-dob-day" placeholder="DD" min="1" max="31" required
                                    class="input-glass w-full rounded-xl py-3 text-center placeholder-slate-500">
                                <input type="number" id="reg-dob-month" placeholder="MM" min="1" max="12" required
                                    class="input-glass w-full rounded-xl py-3 text-center placeholder-slate-500">
                                <input type="number" id="reg-dob-year" placeholder="YYYY" min="1900" max="2100" required
                                    class="input-glass w-full rounded-xl py-3 text-center placeholder-slate-500">
                            </div>
                        </div>
                        <div class="relative">
                            <i class="fa-solid fa-lock absolute left-4 top-3.5 text-slate-500"></i>
                            <input type="password" id="reg-pass" required
                                class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                placeholder="Create Password">
                        </div>
                        <div class="relative">
                            <i class="fa-solid fa-lock absolute left-4 top-3.5 text-slate-500"></i>
                            <input type="password" id="reg-confirm-pass" required
                                class="input-glass w-full rounded-xl py-3 pl-11 pr-4 placeholder-slate-500"
                                placeholder="Confirm Password">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3 mt-6 mb-4">
                        <button type="button" onclick="socialLogin('google')"
                            class="flex items-center justify-center bg-white text-slate-900 font-bold py-2.5 rounded-xl hover:bg-slate-200 transition-colors z-20 relative">
                            <i class="fa-brands fa-google text-red-500 mr-2"></i> Google
                        </button>
                        <button type="button" onclick="socialLogin('facebook')"
                            class="flex items-center justify-center bg-[#1877F2] text-white font-bold py-2.5 rounded-xl hover:bg-[#166fe5] transition-colors z-20 relative">
                            <i class="fa-brands fa-facebook text-white mr-2"></i> Facebook
                        </button>
                    </div>

                    <button type="submit" id="btn-reg"
                        class="w-full bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-purple-500/25 transform hover:-translate-y-0.5 transition-all mt-2 z-20 relative">
                        Create Account
                    </button>
                </form>

            </div>

            <div class="mt-6 text-center border-t border-slate-700/50 pt-6">
                <a href="/" class="text-slate-500 hover:text-white text-sm font-medium transition-colors">
                    <i class="fa-solid fa-arrow-left mr-2"></i> Back to Store
                </a>
            </div>
        </div>
    </div>

    </div>
    </div>

    <!-- CUSTOM ALERT MODAL -->
    <div id="custom-alert"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="glass-card w-[400px] max-w-[90%] p-6 rounded-2xl shadow-2xl transform scale-95 transition-transform duration-300"
            id="custom-alert-box">
            <div class="text-center">
                <div class="w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4"
                    id="alert-icon-bg">
                    <i class="fa-solid fa-triangle-exclamation text-2xl text-red-500" id="alert-icon"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2" id="alert-title">Attention</h3>
                <div class="text-slate-300 text-sm leading-relaxed mb-6" id="alert-msg">
                    Something needs your attention.
                </div>
                <button onclick="closeCustomAlert()"
                    class="w-full bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-[1.02]"
                    id="alert-btn">
                    Understood
                </button>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tab) {
            const loginForm = document.getElementById('login-form');
            const regForm = document.getElementById('register-form');
            const tabBg = document.getElementById('tab-bg');
            const btnLogin = document.getElementById('tab-login');
            const btnReg = document.getElementById('tab-register');

            if (tab === 'login') {
                // Background Slide Left
                tabBg.style.transform = 'translateX(0)';

                // Form Slide
                loginForm.style.transform = 'translateX(0)';
                loginForm.style.opacity = '1';
                regForm.style.transform = 'translateX(110%)';
                regForm.style.opacity = '0';

                // Text Colors
                btnLogin.classList.remove('text-slate-400');
                btnLogin.classList.add('text-white');
                btnReg.classList.add('text-slate-400');
                btnReg.classList.remove('text-white');
            } else {
                // Background Slide Right
                tabBg.style.transform = 'translateX(100%)';
                tabBg.style.marginLeft = '4px';

                // Form Slide
                loginForm.style.transform = 'translateX(-110%)';
                loginForm.style.opacity = '0';
                regForm.style.transform = 'translateX(0)';
                regForm.style.opacity = '1';

                // Text Colors
                btnReg.classList.remove('text-slate-400');
                btnReg.classList.add('text-white');
                btnLogin.classList.add('text-slate-400');
                btnLogin.classList.remove('text-white');
            }
        }

        async function handleRegister(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-reg');
            const original = btn.innerText;
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Creating...';
            btn.disabled = true;

            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const phoneNum = document.getElementById('reg-phone').value;
            const password = document.getElementById('reg-pass').value;

            const day = document.getElementById('reg-dob-day').value;
            const month = document.getElementById('reg-dob-month').value;
            const year = document.getElementById('reg-dob-year').value;

            if (!day || !month || !year) {
                showCustomAlert("Missing Info", "Please enter complete Date of Birth.", "error");
                btn.innerHTML = original;
                btn.disabled = false;
                return;
            }

            // Construct DOB YYYY-MM-DD
            const dob = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;

            // Age Validation (16+)
            const birthDate = new Date(dob);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }

            if (age < 16) {
                showCustomAlert("Age Restriction", "You must be at least 16 years old to create an account.", "error");
                btn.innerHTML = original;
                btn.disabled = false;
                return;
            }

            // Prepare Data
            const countryCode = document.getElementById('reg-country-code').value;
            const data = {
                name,
                email,
                phone: countryCode + phoneNum,
                dob,
                password
            };

            const confirmPass = document.getElementById('reg-confirm-pass').value;

            // Strong Password Validation
            const strongRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            if (!strongRegex.test(data.password)) {
                showCustomAlert(
                    "Weak Password",
                    `<div class="text-left bg-slate-900/50 p-4 rounded-lg border border-white/5">
                        <p class="mb-2 font-bold text-red-400">Password must match these rules:</p>
                        <ul class="list-disc pl-4 space-y-1 text-xs text-slate-300">
                            <li>At least 8 characters long</li>
                            <li>One Uppercase Letter (A-Z)</li>
                            <li>One Lowercase Letter (a-z)</li>
                            <li>One Number (0-9)</li>
                            <li>One Special Character (@$!%*?&)</li>
                        </ul>
                    </div>`,
                    "error"
                );
                btn.innerHTML = original;
                btn.disabled = false;
                return;
            }

            if (data.password !== confirmPass) {
                showCustomAlert("Mismatch", "Passwords do not match! Please try again.", "error");
                btn.innerHTML = original;
                btn.disabled = false;
                return;
            }

            try {
                const res = await fetch('api/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();

                if (result.success) {
                    localStorage.setItem('user', JSON.stringify(result.user));
                    localStorage.setItem('userToken', result.token);
                    window.location.href = 'profile.html';
                } else {
                    showCustomAlert("Registration Failed", result.message || "Something went wrong.", "error");
                }
            } catch (err) {
                console.error(err);
                showCustomAlert("Server Error", "Could not connect to server. Please check your internet.", "error");
            } finally {
                btn.innerHTML = original;
                btn.disabled = false;
            }
        }

        async function handleLogin(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-login');
            const original = btn.innerText;
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Checking...';
            btn.disabled = true;

            const data = {
                email: document.getElementById('login-email').value,
                password: document.getElementById('login-pass').value
            };

            try {
                const res = await fetch('api/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();

                if (result.success) {
                    localStorage.setItem('user', JSON.stringify(result.user));
                    localStorage.setItem('userToken', result.token);
                    window.location.href = 'profile.html';
                } else {
                    showCustomAlert("Login Failed", result.message || "Invalid credentials.", "error");
                }
            } catch (err) {
                console.error(err);
                showCustomAlert("Server Error", "Could not connect to server. Please check your internet.", "error");
            } finally {
                btn.innerHTML = original;
                btn.disabled = false;
            }
        }

        // --- SOCIAL AUTH INIT (Google & Facebook) ---
        window.onload = function () {
            // Google
            google.accounts.id.initialize({
                client_id: "966188173381-2ebngavegtsmpk5gdgc6om3mjoolb5ll.apps.googleusercontent.com",
                callback: handleGoogleCredentialResponse
            });

            // Facebook
            window.fbAsyncInit = function () {
                FB.init({
                    appId: '1662529888042179',
                    cookie: true,
                    xfbml: true,
                    version: 'v18.0'
                });
                console.log("Facebook SDK Initialized");
            };
        };

        // --- GOOGLE HANDLER ---
        function handleGoogleCredentialResponse(response) {
            const responsePayload = decodeJwtResponse(response.credential);
            processSocialLogin('google', {
                email: responsePayload.email,
                name: responsePayload.name,
                photo: responsePayload.picture
            });
        }

        function decodeJwtResponse(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        // --- MAIN LOGIN TRIGGER ---
        function socialLogin(provider) {
            if (provider === 'google') {
                google.accounts.id.prompt();
                return;
            }

            if (provider === 'facebook') {
                FB.login(function (response) {
                    if (response.authResponse) {
                        // User authorized app, get profile
                        FB.api('/me', { fields: 'name, email, picture' }, function (userData) {
                            console.log('FB User:', userData);
                            processSocialLogin('facebook', {
                                email: userData.email, // Note: Email might be missing if user hides it
                                name: userData.name,
                                photo: userData.picture?.data?.url || ''
                            });
                        });
                    } else {
                        console.log('User cancelled login or did not fully authorize.');
                    }
                }, { scope: 'public_profile,email' });
                return;
            }
        }

        // --- BACKEND PROCESSING ---
        async function processSocialLogin(provider, userData) {
            if (!userData.email) {
                showCustomAlert("Error", "Could not get email from provider. Please try again or use regular login.", "error");
                return;
            }

            const btnLogin = document.getElementById('btn-login');
            const originalBtn = btnLogin.innerHTML;
            btnLogin.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Processing...';
            btnLogin.disabled = true;

            try {
                const res = await fetch(`/api/auth/${provider}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(userData)
                });
                const result = await res.json();

                if (result.success) {
                    localStorage.setItem('user', JSON.stringify(result.user));
                    localStorage.setItem('userToken', result.token);

                    showCustomAlert("Success", `Logged in via ${provider}!`, "success");

                    setTimeout(() => {
                        window.location.href = 'profile.html';
                    }, 1500);
                } else {
                    showCustomAlert("Login Failed", result.message, "error");
                }
            } catch (e) {
                console.error(e);
                showCustomAlert("Error", "Could not connect to server.", "error");
            } finally {
                btnLogin.innerHTML = originalBtn;
                btnLogin.disabled = false;
            }
        }

        // --- CUSTOM ALERT LOGIC ---
        function showCustomAlert(title, msg, type) {
            const modal = document.getElementById('custom-alert');
            const box = document.getElementById('custom-alert-box');
            const titleEl = document.getElementById('alert-title');
            const msgEl = document.getElementById('alert-msg');
            const icon = document.getElementById('alert-icon');
            const iconBg = document.getElementById('alert-icon-bg');
            const btn = document.getElementById('alert-btn');

            titleEl.innerText = title;
            msgEl.innerHTML = msg; // Allows HTML content

            // Type Styles
            if (type === 'error') {
                icon.className = "fa-solid fa-circle-exclamation text-2xl text-red-500";
                iconBg.className = "w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4";
                btn.className = "w-full bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg shadow-red-500/25";
            } else if (type === 'success') {
                icon.className = "fa-solid fa-circle-check text-2xl text-emerald-500";
                iconBg.className = "w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4";
                btn.className = "w-full bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg shadow-emerald-500/25";
            } else {
                // Warning/Info
                icon.className = "fa-solid fa-triangle-exclamation text-2xl text-amber-500";
                iconBg.className = "w-16 h-16 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-4";
                btn.className = "w-full bg-gradient-to-r from-amber-600 to-amber-500 hover:from-amber-500 hover:to-amber-400 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg shadow-amber-500/25";
            }

            modal.style.opacity = '1';
            modal.style.pointerEvents = 'auto'; // Enable clicks
            box.style.transform = 'scale(1)';
        }

        function closeCustomAlert() {
            const modal = document.getElementById('custom-alert');
            const box = document.getElementById('custom-alert-box');

            modal.style.opacity = '0';
            modal.style.pointerEvents = 'none';
            box.style.transform = 'scale(0.95)';
        }
    </script>
</body>

</html>